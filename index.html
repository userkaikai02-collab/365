<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏ü‡∏£‡∏µ 2 ‡πÅ‡∏ä‡∏£‡πå</title>
<meta name="color-scheme" content="dark" />
<style>
  :root{
    --bg0:#070102;
    --bg1:#0f0204;
    --card:rgba(255,255,255,.06);
    --line:rgba(255,80,80,.20);
    --txt:#ffecec;
    --muted:#ffb6b6;
    --accent:#ff2b2b;
    --accent2:#b80000;
    --ok:#36d399;
    --warn:#fbbf24;
    --bad:#ff5a5f;
    --shadow:0 22px 60px rgba(0,0,0,.65);
    --radius:22px;
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:system-ui,-apple-system,"Segoe UI",Tahoma,sans-serif;
    color:var(--txt);
    background:
      radial-gradient(1200px 700px at 18% 8%, rgba(255,60,60,.20), transparent 60%),
      radial-gradient(900px 600px at 85% 12%, rgba(255,120,120,.10), transparent 55%),
      radial-gradient(900px 700px at 50% 105%, rgba(255,40,40,.16), transparent 60%),
      linear-gradient(180deg, var(--bg0), var(--bg1));
    overflow-x:hidden;
    -webkit-tap-highlight-color: transparent;
  }

  .wrap{
    max-width:720px;
    margin:0 auto;
    padding:22px 14px 110px; /* ‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏°‡∏•‡πà‡∏≤‡∏á */
  }
   .heroImage{
    width:100%;
    margin-bottom:14px;
    border-radius:22px;
    overflow:hidden;
    box-shadow:0 18px 50px rgba(0,0,0,.7);
    border:1px solid var(--line);
  }
  .heroImage img{
    width:100%;
    height:auto;
    display:block;
  }

  .hero{
    border:1px solid var(--line);
    border-radius:28px;
    padding:16px;
    background:rgba(255,255,255,.06);
    box-shadow:var(--shadow);
  }

  .hero{
    border:1px solid var(--line);
    border-radius:28px;
    padding:16px;
    background:linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
    box-shadow:var(--shadow);
    position:sticky; top:12px; z-index:5;
    backdrop-filter: blur(10px);
  }

  .top{
    display:flex; gap:12px; align-items:center; justify-content:space-between;
    flex-wrap:wrap;
  }

  .brand{display:flex; align-items:center; gap:12px;}
  .logo{
    width:46px; height:46px; border-radius:16px;
    background:
      radial-gradient(circle at 30% 30%, rgba(255,255,255,.35), transparent 55%),
      linear-gradient(135deg, var(--accent), var(--accent2));
    border:1px solid rgba(255,255,255,.14);
    box-shadow:0 12px 30px rgba(255,0,0,.25);
    flex:0 0 auto;
  }
  .title{margin:0;font-size:16px;font-weight:900;letter-spacing:.2px;line-height:1.2}
  .sub{margin-top:2px;font-size:12px;color:var(--muted);line-height:1.35}

  .status{
    display:flex; gap:10px; align-items:center;
    padding:10px 12px;border-radius:999px;
    border:1px solid rgba(255,255,255,.14);
    background:rgba(0,0,0,.25);
    min-height:40px;
  }
  .dot{width:10px;height:10px;border-radius:999px;background:rgba(255,255,255,.25);box-shadow:0 0 0 4px rgba(255,255,255,.06)}
  .dot.ok{background:var(--ok);box-shadow:0 0 0 4px rgba(54,211,153,.15)}
  .dot.warn{background:var(--warn);box-shadow:0 0 0 4px rgba(251,191,36,.12)}
  .dot.bad{background:var(--bad);box-shadow:0 0 0 4px rgba(255,90,95,.14)}
  .status b{font-size:12px}
  .status span{font-size:12px;color:var(--muted)}

  .stepper{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap}
  .step{
    flex:1;min-width:180px;
    padding:10px 12px;border-radius:16px;
    border:1px solid rgba(255,255,255,.12);
    background:rgba(0,0,0,.20);
  }
  .step .k{font-size:12px;color:var(--muted);font-weight:900}
  .step .v{margin-top:4px;font-size:13px;font-weight:900}
  .step.active{
    border-color:rgba(255,80,80,.55);
    background:rgba(255,40,40,.10);
    box-shadow:0 0 0 4px rgba(255,40,40,.10);
  }

  .card{
    margin-top:14px;
    border:1px solid var(--line);
    border-radius:var(--radius);
    background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
    box-shadow:0 18px 46px rgba(0,0,0,.55);
    overflow:hidden;
  }
  .card .hd{
    padding:14px 16px;
    border-bottom:1px solid var(--line);
    background:linear-gradient(90deg, rgba(255,40,40,.12), transparent);
    display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;
  }
  .card .hd .ttl{font-weight:900;font-size:14px;display:flex;align-items:center;gap:10px}
  .pill{
    font-size:12px;padding:6px 10px;border-radius:999px;
    border:1px solid rgba(255,255,255,.16);
    background:rgba(0,0,0,.25);
    color:var(--muted);white-space:nowrap;
  }
  .card .bd{padding:16px}

  label{display:block;font-size:12px;color:var(--muted);margin:10px 0 6px}
  input{
    width:100%;padding:12px 12px;border-radius:16px;
    border:1px solid rgba(255,255,255,.14);
    background:rgba(0,0,0,.35);
    color:var(--txt);
    font-size:16px;outline:none;transition:.15s;
  }
  input:focus{border-color:rgba(255,80,80,.55);box-shadow:0 0 0 4px rgba(255,40,40,.15)}
  .note{margin-top:10px;font-size:12px;color:rgba(255,255,255,.72);line-height:1.6}

  .msg{
    margin-top:12px;padding:12px 12px;border-radius:16px;
    border:1px solid rgba(255,255,255,.12);
    background:rgba(0,0,0,.25);
    white-space:pre-line;display:none;line-height:1.55;
  }
  .msg.ok{border-color:rgba(54,211,153,.35)}
  .msg.err{border-color:rgba(255,90,95,.45)}
  .msg.info{border-color:rgba(255,80,80,.22)}

  /* ‚úÖ ‡πÅ‡∏ñ‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏•‡πà‡∏≤‡∏á: ‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡πÄ‡∏¢‡∏≠‡∏£‡πå‡∏ó‡∏±‡∏ö‡∏Ñ‡∏•‡∏¥‡∏Å */
  .bar{
    position:fixed;left:0;right:0;bottom:0;
    padding:12px 14px;
    background:linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,.65) 25%, rgba(0,0,0,.85));
    backdrop-filter: blur(8px);
    z-index:50;
    pointer-events:none;
  }
  .barInner{
    max-width:720px;margin:0 auto;
    display:flex;gap:10px;
    pointer-events:auto;
  }

  button{
    border:0;cursor:pointer;
    padding:12px 14px;border-radius:16px;
    font-weight:900;font-size:15px;letter-spacing:.2px;color:#fff;
    transition:.15s;flex:1;
    touch-action: manipulation;
  }
  .btnMain{
    background:linear-gradient(135deg, var(--accent), var(--accent2));
    box-shadow:0 14px 30px rgba(255,0,0,.25);
  }
  .btnAlt{
    background:rgba(255,255,255,.10);
    border:1px solid rgba(255,255,255,.14);
    color:var(--txt);
  }
  button:disabled{opacity:.55;cursor:not-allowed;transform:none}
  button:hover{transform:translateY(-1px)}
  button:active{transform:translateY(0);opacity:.95}

  /* Loading Overlay */
  .overlay{
    position:fixed; inset:0;
    display:none;
    align-items:center; justify-content:center;
    background:rgba(0,0,0,.55);
    z-index:99;
  }
  .overlay.show{display:flex}
  .loader{
    width:min(420px, 92vw);
    border:1px solid rgba(255,255,255,.14);
    background:rgba(10,0,0,.75);
    border-radius:20px;
    padding:14px;
    box-shadow:0 20px 60px rgba(0,0,0,.7);
  }
  .loader .row{display:flex;gap:10px;align-items:center}
  .spin{
    width:18px;height:18px;border-radius:50%;
    border:2px solid rgba(255,255,255,.25);
    border-top-color:rgba(255,43,43,.9);
    animation: sp 1s linear infinite;
  }
  @keyframes sp{to{transform:rotate(360deg)}}
  .loader b{font-size:13px}
  .loader span{display:block;color:rgba(255,255,255,.75);font-size:12px;margin-top:4px;line-height:1.4}
</style>
</head>
<body>
  <div class="wrap">

  <!-- ‚úÖ ‡∏£‡∏π‡∏õ‡πÉ‡∏´‡∏ç‡πà -->
  <div class="heroImage">
    <img src="https://img5.pic.in.th/file/secure-sv1/photo_--_--1c67466a2f55fbd2.jpg" alt="‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°">
  </div>


<div class="wrap">
  <div class="hero">
    <div class="top">
      <div class="brand">
        <div class="logo"></div>
        <div>
          <div class="title">‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏ü‡∏£‡∏µ 2 ‡πÅ‡∏ä‡∏£‡πå</div>
        </div>
      </div>

      <div class="status">
        <div class="dot warn" id="dot"></div>
        <div>
          <b id="stTitle">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</b><br>
          <span id="stSub">‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î ‚Äú‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‚Äù</span>
        </div>
      </div>
    </div>

    <div class="stepper">
      <div class="step active" id="step1"><div class="k">STEP 1</div><div class="v">‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</div></div>
      <div class="step" id="step2"><div class="k">STEP 2</div><div class="v">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</div></div>
      <div class="step" id="step3"><div class="k">STEP 3</div><div class="v">‡πÅ‡∏Ñ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡πà‡∏á‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</div></div>
    </div>
  </div>

  <div class="card">
    <div class="hd">
      <div class="ttl">üì≤ ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</div>
      <span class="pill">‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÑ‡∏ó‡∏¢ 10 ‡∏´‡∏•‡∏±‡∏Å</span>
    </div>
    <div class="bd">
      <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏±‡∏Ñ‡∏£</label>
      <input id="phone" inputmode="numeric" placeholder="‡πÄ‡∏ä‡πà‡∏ô 0611111111" autocomplete="tel" />

      <div id="msg" class="msg"></div>

      <div class="note">
        *‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô<br>
        
      </div>
    </div>
  </div>
</div>

<!-- Bottom bar -->
<div class="bar">
  <div class="barInner">
    <button class="btnAlt" id="btnCheck" type="button">‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</button>
    <button class="btnMain" id="btnJoin" type="button" disabled>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</button>
  </div>
</div>

<!-- Loading Overlay -->
<div class="overlay" id="overlay" aria-hidden="true">
  <div class="loader">
    <div class="row">
      <div class="spin"></div>
      <div>
        <b id="ovTitle">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£...</b>
        <span id="ovSub">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà</span>
      </div>
    </div>
  </div>
</div>

<script>
/* =========================
   CONFIG
========================= */
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycby8MtyRYix0yOxbfD448NHljie17VU6eDaYFCcBuYh3GvLglyQ2KcSQv4r-FEZoiOkV/exec";
const DEVICE_ID_KEY = "rr365_device_id";

/* =========================
   ELEMENTS
========================= */
const $phone = document.getElementById("phone");
const $btnCheck = document.getElementById("btnCheck");
const $btnJoin  = document.getElementById("btnJoin");
const $msg = document.getElementById("msg");

const $dot = document.getElementById("dot");
const $stTitle = document.getElementById("stTitle");
const $stSub = document.getElementById("stSub");

const $step1 = document.getElementById("step1");
const $step2 = document.getElementById("step2");
const $step3 = document.getElementById("step3");

const $overlay = document.getElementById("overlay");
const $ovTitle = document.getElementById("ovTitle");
const $ovSub = document.getElementById("ovSub");

/* =========================
   UI HELPERS
========================= */
function setStatus(mode, title, sub){
  $dot.className = "dot " + (mode==="ok" ? "ok" : mode==="bad" ? "bad" : "warn");
  $stTitle.textContent = title || "";
  $stSub.textContent = sub || "";
}
function setStep(n){
  $step1.classList.toggle("active", n===1);
  $step2.classList.toggle("active", n===2);
  $step3.classList.toggle("active", n===3);
}
function show(text, type="info"){
  $msg.style.display="block";
  $msg.className="msg " + (type==="err" ? "err" : type==="ok" ? "ok" : "info");
  $msg.textContent = text;
}
function hideMsg(){
  $msg.style.display="none";
  $msg.textContent="";
}
function overlay(on, title, sub){
  if(on){
    $ovTitle.textContent = title || "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£...";
    $ovSub.textContent = sub || "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà";
    $overlay.classList.add("show");
    $overlay.setAttribute("aria-hidden","false");
  }else{
    $overlay.classList.remove("show");
    $overlay.setAttribute("aria-hidden","true");
  }
}

/* =========================
   PHONE NORMALIZE
========================= */
function normalizePhone(v){
  let s = String(v||"").trim();
  const th = "‡πê‡πë‡πí‡πì‡πî‡πï‡πñ‡πó‡πò‡πô";
  for (let i=0;i<th.length;i++) s = s.replace(new RegExp(th[i],"g"), String(i));
  let p = s.replace(/\D/g,"");
  if(!p) return "";
  if(p.startsWith("0066")) p = p.slice(2);
  if(p.startsWith("66")) p = "0"+p.slice(2);
  if(!p.startsWith("0") && p.length===9) p="0"+p;
  if(p.length!==10) return "";
  if(!/^0[689]\d{8}$/.test(p)) return "";
  return p;
}

/* =========================
   DEVICE / FINGERPRINT / UAKEY
========================= */
function getOrCreateDeviceId(){
  let id = localStorage.getItem(DEVICE_ID_KEY);
  if(!id){
    id = "dev_"+Math.random().toString(36).slice(2)+Date.now().toString(36);
    localStorage.setItem(DEVICE_ID_KEY,id);
  }
  return id;
}
function getFingerprint(){
  const data = [
    screen.width, screen.height,
    window.devicePixelRatio,
    Intl.DateTimeFormat().resolvedOptions().timeZone || "",
    navigator.language || "",
    navigator.platform || "",
    navigator.hardwareConcurrency || 0,
    navigator.maxTouchPoints || 0
  ].join("|");
  let hash = 0;
  for (let i=0;i<data.length;i++){
    hash = ((hash<<5)-hash) + data.charCodeAt(i);
    hash |= 0;
  }
  return "fp_" + Math.abs(hash);
}
function getUaKey(){
  const ua = navigator.userAgent || "";
  const key = [
    ua.includes("Android") ? (ua.match(/Android\s[\d\.]+/)||["Android"])[0] : "NA",
    (ua.match(/Chrome\/[\d\.]+/)||["Chrome"])[0],
    ua.includes("wv") ? "WV" : "NWV",
    ua.includes("Line") ? (ua.match(/Line\/[\d\.]+/)||["Line"])[0] : "NLINE",
    (ua.match(/Build\/[A-Za-z0-9\.\_]+/)||["Build"])[0]
  ].join("|");
  let h=0;
  for(let i=0;i<key.length;i++){ h=((h<<5)-h)+key.charCodeAt(i); h|=0; }
  return "ua_" + Math.abs(h);
}

/* =========================
   JSONP
========================= */
function jsonpRequest(params, timeoutMs=12000){
  return new Promise((resolve, reject)=>{
    if (!/\/exec(\?|$)/.test(SCRIPT_URL)) return reject(new Error("SCRIPT_URL_NOT_EXEC"));

    const cbName = "cb_" + Math.random().toString(36).slice(2);
    params.jsonp = "1";
    params.callback = cbName;
    params._ts = Date.now().toString();

    const url = SCRIPT_URL + "?" + new URLSearchParams(params).toString();
    const script = document.createElement("script");
    script.src = url;
    script.async = true;

    const t = setTimeout(()=>{ cleanup(); reject(new Error("TIMEOUT")); }, timeoutMs);

    window[cbName] = (data)=>{ clearTimeout(t); cleanup(); resolve(data); };
    script.onerror = ()=>{ clearTimeout(t); cleanup(); reject(new Error("SCRIPT_LOAD_ERROR")); };

    function cleanup(){
      try{ delete window[cbName]; }catch(e){ window[cbName]=undefined; }
      if(script && script.parentNode) script.parentNode.removeChild(script);
    }
    document.body.appendChild(script);
  });
}

async function request(action){
  hideMsg();
  const p = normalizePhone($phone.value);
  if(!p){
    show("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (06/08/09 10 ‡∏´‡∏•‡∏±‡∏Å)", "err");
    return null;
  }
  try{
    return await jsonpRequest({
      action,
      phone: p,
      deviceId: getOrCreateDeviceId(),
      fingerprint: getFingerprint(),
      ua_key: getUaKey(),
      userAgent: navigator.userAgent
    });
  }catch(err){
    const m = String(err.message||"");
    if(m==="SCRIPT_URL_NOT_EXEC"){
      show("‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á: ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏•‡∏á‡∏ó‡πâ‡∏≤‡∏¢ /exec ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô", "err");
    }else if(m==="TIMEOUT"){
      show("‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ä‡πâ‡∏≤‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ (Timeout) ‚Äî ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á\n‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Deploy: Who has access = Anyone", "err");
    }else{
      show("‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚Äî ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Deploy/‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå (‡∏ï‡πâ‡∏≠‡∏á Anyone) ‡πÅ‡∏•‡∏∞‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà", "err");
    }
    return null;
  }
}

/* =========================
   BUSY STATE
========================= */
let BUSY = false;
function setBusy(on, ovTitle, ovSub){
  BUSY = !!on;
  $btnCheck.disabled = BUSY;
  $btnJoin.disabled  = BUSY ? true : $btnJoin.disabled;
  if(BUSY){
    overlay(true, ovTitle, ovSub);
    setStatus("warn", ovTitle || "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£...", "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà");
  }else{
    overlay(false);
  }
}

/* =========================
   TAP BIND (‡∏Å‡∏±‡∏ô‡∏ö‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏¢‡∏¥‡∏á click)
========================= */
function bindTap(el, fn){
  el.addEventListener("click", fn, { passive:true });
  el.addEventListener("touchend", (e)=>{ e.preventDefault(); fn(e); }, { passive:false });
}

/* =========================
   EVENTS
========================= */
bindTap($btnCheck, async ()=>{
  if(BUSY) return;
  $btnJoin.disabled = true;
  setStep(1);
  setBusy(true, "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå...", "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå");

  const data = await request("check");
  setBusy(false);

  if(!data){
    setStatus("bad","‡πÄ‡∏ä‡πá‡∏Ñ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à","‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á");
    return;
  }

  if(!data.ok){
    show(data.msg || "‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î", "err");
    setStatus("bad","‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î","‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà");
    return;
  }

  if(data.exists){
    show("‚ö†Ô∏è ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏Ñ‡∏¢‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ã‡πâ‡∏≥‡πÑ‡∏î‡πâ", "err");
    setStatus("bad","‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô","‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÄ‡∏Ñ‡∏¢‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÅ‡∏•‡πâ‡∏ß");
    return;
  }
  if(data.device_used){
    show("‚ö†Ô∏è ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏Ñ‡∏¢‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏ã‡πâ‡∏≥‡πÑ‡∏î‡πâ", "err");
    setStatus("bad","‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô","‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏Ñ‡∏¢‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÅ‡∏•‡πâ‡∏ß");
    return;
  }

  show("‚úÖ ‡∏ú‡πà‡∏≤‡∏ô! ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢", "ok");
  $btnJoin.disabled = false;
  setStep(2);
  setStatus("ok","‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö","‡∏Å‡∏î ‚Äú‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‚Äù ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å");
});

bindTap($btnJoin, async ()=>{
  if(BUSY) return;
  setStep(2);
  setBusy(true, "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°...", "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•");

  const data = await request("register");
  setBusy(false);

  if(!data){
    setStatus("bad","‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à","‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á");
    return;
  }

  if(!data.ok){
    show(data.msg || "‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î", "err");
    setStatus("bad","‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î","‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà");
    return;
  }

  if(data.registered){
    show("üéâ ‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!\nüìå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÅ‡∏Ñ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏ô‡∏µ‡πâ‡∏™‡πà‡∏á‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô", "ok");
    $btnJoin.disabled = true;
    setStep(3);
    setStatus("ok","‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à","‡πÅ‡∏Ñ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡πà‡∏á‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢");
    return;
  }

  show(data.msg || "‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ", "err");
  setStatus("bad","‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à","‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà");
});

/* =========================
   INIT
========================= */
(function init(){
  setStep(1);
  setStatus("ok","‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô","‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î ‚Äú‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‚Äù");
})();
</script>
</body>
</html>
